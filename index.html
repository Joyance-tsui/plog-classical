<!DOCTYPE html>
<html lang="zh">
    ' © this is a personal webside, all rights reserved by Joyance, the owner.'
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joyance's Plog</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #FAFAFA;
            color: #212121;
            transition: background-color 0.3s, color 0.3s;
        }
        .dark-mode {
            background-color: #121212;
            color: #E0E0E0;
        }
        header {
            background-color: #FFFFFF;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .dark-mode header {
            background-color: #1E1E1E;
        }
        nav {
            background-color: #FFFFFF;
            padding: 8px 16px;
        }
        .dark-mode nav {
            background-color: #1E1E1E;
        }
        nav a {
            color: #212121;
            text-decoration: none;
            margin-right: 16px;
            font-weight: 500;
        }
        .dark-mode nav a {
            color: #E0E0E0;
        }
        .container {
            padding: 16px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 2px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        }
        .dark-mode .card {
            background-color: #2C2C2C;
        }
        .article {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #EEEEEE;
        }
        .dark-mode .article {
            border-bottom-color: #424242;
        }
        button {
            background-color: #212121;
            color: #FFFFFF;
            border: none;
            padding: 8px 16px;
            border-radius: 2px;
            cursor: pointer;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: background-color 0.3s;
        }
        .dark-mode button {
            background-color: #4A4A4A;
            color: #E0E0E0;
        }
        button:hover {
            background-color: #424242;
        }
        .dark-mode button:hover {
            background-color: #616161;
        }
        .fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background-color: #212121;
            color: #FFFFFF;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            text-align: center;
            line-height: 56px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 3px 5px rgba(0,0,0,0.3);
            transition: background-color 0.3s;
            display: none;
        }
        .dark-mode .fab {
            background-color: #4A4A4A;
            color: #E0E0E0;
        }
        .fab:hover {
            background-color: #424242;
        }
        .dark-mode .fab:hover {
            background-color: #616161;
        }
        .full-screen-editor {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #FFFFFF;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            padding: 16px;
            box-sizing: border-box;
        }
        .dark-mode .full-screen-editor {
            background-color: #1E1E1E;
        }
        .full-screen-editor input,
        .full-screen-editor textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            border: 1px solid #BDBDBD;
            border-radius: 2px;
            font-size: 16px;
        }
        .dark-mode .full-screen-editor input,
        .dark-mode .full-screen-editor textarea {
            background-color: #2C2C2C;
            color: #E0E0E0;
            border-color: #424242;
        }
        .copy-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            margin-left: 8px;
        }
        .copy-button i {
            font-size: 18px;
        }
        .dark-mode .copy-button {
            color: #E0E0E0;
        }
        .full-article {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #FFFFFF;
            z-index: 1000;
            overflow-y: auto;
            padding: 16px;
            box-sizing: border-box;
        }
        .dark-mode .full-article {
            background-color: #1E1E1E;
        }
        .full-article h2 {
            margin-top: 0;
        }
        .full-article .close-button {
            position: absolute;
            top: 16px;
            right: 16px;
        }
        .pinned {
            border-left: 4px solid #9E9E9E;
        }
        .dark-mode .pinned {
            border-left: 4px solid #757575;
        }
        .article-preview {
            white-space: pre-wrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        .blog-preview {
            white-space: pre-wrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
        }
        .article-content {
            white-space: pre-wrap;
        }
        .article-link {
            color: #212121;
            text-decoration: underline;
            cursor: pointer;
        }
        .dark-mode .article-link {
            color: #E0E0E0;
        }

        /* 响应式设计调整 */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                padding: 12px;
            }

            #controls {
                margin-top: 12px;
            }

            nav {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
            }

            nav a {
                flex: 1 0 auto;
                text-align: center;
                padding: 8px 0;
            }

            .container {
                padding: 12px;
            }

            .card {
                padding: 12px;
            }

            .full-screen-editor {
                padding: 12px;
            }

            .full-screen-editor input,
            .full-screen-editor textarea {
                font-size: 14px;
            }

            .full-screen-editor .button-container {
                flex-direction: column;
            }

            .full-screen-editor button {
                width: 100%;
                margin-bottom: 8px;
            }

            .fab {
                width: 48px;
                height: 48px;
                line-height: 48px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1 id="headerTitle">Joyance的博客</h1>
        <div id="controls">
            <button onclick="toggleLanguage()" id="languageToggle">EN</button>
            <button onclick="toggleDarkMode()" id="darkModeToggle">☾</button>
        </div>
    </header>

    <nav>
        <a href="#" onclick="showPage('home')" id="navHome">首页</a>
        <a href="#" onclick="showPage('blog')" id="navBlog">更多</a>
        <a href="#" onclick="showPage('contact')" id="navContact">联系</a>
    </nav>

    <div class="container" id="content">
        <!-- 内容将通过JavaScript动态加载 -->
    </div>

    <div id="fullScreenEditor" class="full-screen-editor" style="display:none;">
        <input type="text" id="postTitle" placeholder="文章标题">
        <textarea id="postContent" placeholder="文章内容" rows="20"></textarea>
        <label>
            <input type="checkbox" id="postPinned"> 置顶文章
        </label>
        <button onclick="savePost()">保存</button>
        <button onclick="closeFullScreenEditor()">取消</button>
    </div>

    <div id="fullArticle" class="full-article" style="display:none;">
        <button class="close-button" onclick="closeFullArticle()">close</button>
        <div id="fullArticleContent"></div>
    </div>

    <div class="fab" onclick="showNewPostEditor()"><i class="material-icons">add</i></div>
<script>
    let isEnglish = false;
    let isDarkMode = false;
    let isLoggedIn = false;
    let articles = [
        { title: '开启我的个人博客', content: '这是我的第一个个人博客，没有买单独的域名，功能也不齐全（换行的显示还不支持），而且文章是直接存在网页前端程序里的（太简陋了），但是目前应该够用了。 \n\n将来的打算是，这个平台作为我发布我文章的地方。微信公众号和知乎我也会同步跟进。 \n\n但是这个博客与公众号和知乎有什么不同的呢？ \n\n主要是他是我根据我的审美设计的 这样的平台虽然小了，但是却很符合我目前写文章的状态 \n\n也是我的上一次总结里说的，凭借自己的爱好 我是没有盈利的 \n\n当然还有一个原因，有可能其他的平台上我说话有些限制 \n\n在这里就可以发一些我不会在知乎上和公众号上发送的内容 \n\n当然有一些的来源是微信朋友圈 \n\n但是微信朋友圈也有审查（虽然我用的是WeChat账号） 而且传播范围也有限 \n\n所以，博客的计划就这样了 \n\n如果你的编程水平（特别是写网页的）不错 愿意帮我完善这个网站 你可以在“联系”那一栏找到我的微信号和邮箱 \n\n如果你只是单纯的阅读，那也别忘了加个收藏 不然以后就找不到了 （以后肯定会挂域名的，到时候另作通知 \n\n2024/7/26', pinned: true },
    ];
    let englishArticles = [
        { title: 'Starting My Personal Blog', content: 'This is my first personal blog. I haven\'t bought a separate domain, and the functionality is not complete (line breaks are not yet supported). The articles are directly stored in the frontend code (it\'s quite rudimentary), but it should be sufficient for now.\n\nMy future plan is to use this platform to publish my articles. I will also synchronize updates on WeChat Official Account and Zhihu.\n\nBut how is this blog different from WeChat Official Account and Zhihu?\n\nMainly, it\'s designed according to my aesthetic preferences. Although this platform is small, it suits my current writing style very well.\n\nAs I mentioned in my previous summary, I\'m not making a profit based on my hobbies.\n\nOf course, there\'s another reason: I might have some restrictions on what I can say on other platforms.\n\nHere, I can post content that I wouldn\'t share on Zhihu or WeChat Official Account.\n\nSome content may come from my WeChat Moments.\n\nHowever, WeChat Moments also has censorship (although I use a WeChat account), and the reach is limited.\n\nSo, this is the plan for the blog.\n\nIf you have good programming skills (especially in web development) and are willing to help me improve this website, you can find my WeChat ID and email in the Contact section.\n\nIf you\'re just here to read, don\'t forget to bookmark the page, or you might not be able to find it later. (I\'ll definitely set up a domain name in the future, and I\'ll make an announcement when that happens.)\n\n2024/7/26', pinned: true },
    ];

    function toggleLanguage() {
        isEnglish = !isEnglish;
        updateLanguage();
    }

    function toggleDarkMode() {
        isDarkMode = !isDarkMode;
        document.body.classList.toggle('dark-mode');
        updateDarkModeButton();
    }

    function updateLanguage() {
        document.getElementById('headerTitle').textContent = isEnglish ? "Joyance's Blog" : "Joyance的博客";
        document.getElementById('languageToggle').textContent = isEnglish ? "中文" : "EN";
        document.getElementById('navHome').textContent = isEnglish ? "Home" : "首页";
        document.getElementById('navBlog').textContent = isEnglish ? "More" : "更多";
        document.getElementById('navContact').textContent = isEnglish ? "Contact" : "联系";
        showPage(currentPage);
    }

    function updateDarkModeButton() {
        document.getElementById('darkModeToggle').textContent = isDarkMode ? "❍" : "☾";
    }

    function showPage(page) {
        currentPage = page;
        let content = '';
        switch(page) {
            case 'home':
                content = `
                    <div class="card">
                        <h2>${isEnglish ? 'Welcome to my blog' : '❏ 欢迎来到我的个人博客'}</h2>
                        <p>${isEnglish ? "A blog is an informational website consisting of discrete, often informal diary-style text entries (posts).It is a website or online diary managed by an individual to post new articles, pictures or videos, used to record, express emotions or share information." : "博客是一个信息网站，由离散的、通常是非正式的日记式文本条目（帖子）组成。它是由个人管理的网站或在线日记，用于发布新的文章、图片或视频，用于记录、表达情感或分享信息。"}</p>
                    </div>
                    ${renderArticles(true)}
                `;
                break;
            case 'blog':
                content = renderArticles(false);
                break;
            case 'contact':
                content = `
                    <div class="card">
                        <h2>${isEnglish ? 'Contact Information' : '联系信息'}</h2>
                        <p>
                                ${isEnglish ? 'Email: ' : '邮箱：'}guangyinzhong@outlook.com
                                <button class="copy-button" onclick="copyToClipboard('guangyinzhong@outlook.com')">
                                    <i class="material-icons">content_copy</i>
                                </button>
                            </p>
                            <p>
                                ${isEnglish ? 'WechatID: ' : '微信号：'}Jiayue-Cui
                                <button class="copy-button" onclick="copyToClipboard('Jiayue-Cui')">
                                    <i class="material-icons">content_copy</i>
                                </button>
                            </p>
								 <p>
                                ${isEnglish ? 'X: ' : '推特账号：'}@Xixiphus_Jiayue
                                <button class="copy-button" onclick="copyToClipboard('@Xixiphus_Jiayue')">
                                    <i class="material-icons">content_copy</i>
                                </button>
                            </p>
                    </div>`;
                break;
        }
        document.getElementById('content').innerHTML = content;
    }

    function renderArticles(isHomePage) {
        let articleHTML = '';
        let displayedArticles = isEnglish ? englishArticles : articles;
        displayedArticles = isHomePage ? displayedArticles.filter(article => article.pinned) : displayedArticles;
        displayedArticles.forEach((article, index) => {
            articleHTML += `
                <div class="card article ${article.pinned ? 'pinned' : ''}">
                    <h2>${article.title}</h2>
                    <div class="${isHomePage ? 'article-preview' : 'blog-preview'}">${formatContent(article.content)}</div>
                    <button onclick="showFullArticle(${index})">${isEnglish ? 'Read More' : '阅读更多'}</button>
                </div>
            `;
        });
        return articleHTML;
    }

    function formatContent(content) {
        content = content.replace(/\[链接：([^\]]+)\]\(([^\)]+)\)/g, '<a href="$2" class="article-link" target="_blank">$1</a>');
        content = content.replace(/\[Link: ([^\]]+)\]\(([^\)]+)\)/g, '<a href="$2" class="article-link" target="_blank">$1</a>');
        return content;
    }

    function showFullArticle(index) {
        const article = isEnglish ? englishArticles[index] : articles[index];
        document.getElementById('fullArticleContent').innerHTML = `
            <h2>${article.title}</h2>
            <div class="article-content">${formatContent(article.content)}</div>
        `;
        document.getElementById('fullArticle').style.display = 'block';
    }

    function closeFullArticle() {
        document.getElementById('fullArticle').style.display = 'none';
    }

    function showNewPostEditor() {
        if (isLoggedIn) {
            document.getElementById('fullScreenEditor').style.display = 'flex';
        } else {
            alert(isEnglish ? 'Please log in to create a new post.' : '请登录以创建新文章。');
        }
    }

    function closeFullScreenEditor() {
        document.getElementById('fullScreenEditor').style.display = 'none';
    }

    function savePost() {
        const title = document.getElementById('postTitle').value;
        const content = document.getElementById('postContent').value;
        const isPinned = document.getElementById('postPinned').checked;
        if (title && content) {
            if (isEnglish) {
                englishArticles.unshift({ title, content, pinned: isPinned });
            } else {
                articles.unshift({ title, content, pinned: isPinned });
            }
            closeFullScreenEditor();
            showPage(currentPage);
        } else {
            alert(isEnglish ? 'Please enter both title and content.' : '请输入标题和内容。');
        }
    }

    let currentPage = 'home';

    // 检测浏览器是否使用暗色模式
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        toggleDarkMode();
    }

    showPage(currentPage);
</script>
</body>
</html>
